package com.example.springbootkeycloak.AdventOfCode;

public class AdventOfCode5 {


    static String[] inputSeed = ("2494933545 159314859 4045092792 172620202 928898138 " +
            "554061882 2740120981 81327018 2031777983 63513119 2871914181 270575980 2200250633 " +
            "216481794 3289604059 25147787 3472625834 10030240 260990830 232636388").split(" ");

    static String seed_to_soil = "3272284283 2724782980 1022683013\n" +
            "138187491 4195038636 99928660\n" +
            "2359623759 797621236 127984779\n" +
            "662451929 2224466386 266466256\n" +
            "928918185 714355413 83265823\n" +
            "1012184008 3891516474 303522162\n" +
            "3063776460 1098322140 208507823\n" +
            "2194238166 1306829963 50525692\n" +
            "357106588 2091837170 132629216\n" +
            "2244763858 2490932642 114859901\n" +
            "2050187685 3747465993 144050481\n" +
            "489735804 925606015 172716125\n" +
            "2487608538 138187491 576167922\n" +
            "238116151 2605792543 118990437\n" +
            "1315706170 1357355655 734481515\n";
    static String soil_to_fertilizer = "4265669768 2142212766 29297528\n" +
            "2030756625 2171510294 69737894\n" +
            "3038084234 3411621093 262803613\n" +
            "2410534622 3266307064 145314029\n" +
            "2667304792 2241248188 370779442\n" +
            "2100494519 3921619167 310040103\n" +
            "3611390334 2612027630 654279434\n" +
            "2555848651 2030756625 111456141\n" +
            "733063720 869238953 195075492\n" +
            "3300887847 4231659270 63308026\n" +
            "3364195873 3674424706 247194461\n" +
            "928139212 733063720 136175233\n";
    static String fertilizer_to_water = "0 772139976 154052576\n" +
            "909628165 428370542 51644443\n" +
            "3172969725 4109584032 185383264\n" +
            "1116931128 1046566515 14194115\n" +
            "223777814 10055892 255169216\n" +
            "2512535520 1229983026 60386000\n" +
            "3109777744 3899207072 16374329\n" +
            "4030761870 3829858282 12540292\n" +
            "828135093 718323602 53816374\n" +
            "2358450176 2554590817 154085344\n" +
            "3126152073 3152512175 46817652\n" +
            "4043302162 3842398574 56808498\n" +
            "3694349069 3493296400 336412801\n" +
            "770911368 661099877 57223725\n" +
            "3574254366 3032417472 120094703\n" +
            "2689829955 2124052738 139986329\n" +
            "3358352989 1925653441 3542661\n" +
            "154052576 1060760630 69725238\n" +
            "3460616091 3829709201 149081\n" +
            "881951467 480014985 9494517\n" +
            "1777535488 3915581401 135358522\n" +
            "2829816284 1290369026 84715328\n" +
            "478947030 489509502 171590375\n" +
            "2686813330 1226966401 3016625\n" +
            "3361895650 3199329827 98720441\n" +
            "1226966401 1375084354 550569087\n" +
            "3515610257 4050939923 58644109\n" +
            "650537405 926192552 120373963\n" +
            "4100110660 1929196102 194856636\n" +
            "1912894010 2708676161 323741311\n" +
            "3460765172 2264039067 54845085\n" +
            "898932898 0 10055892\n" +
            "891445984 265225108 7486914\n" +
            "2914531612 3298050268 195246132\n" +
            "2572921520 2318884152 113891810\n" +
            "961272608 272712022 155658520\n" +
            "908988790 1130485868 639375\n" +
            "2236635321 2432775962 121814855\n";
    static String water_to_light = "2821176146 2286693663 106119314\n" +
            "3822234587 2463633329 180779736\n" +
            "1725724347 2842879211 104224606\n" +
            "3308097155 4172728180 122239116\n" +
            "3299768179 2834550235 8328976\n" +
            "525232540 357109336 38255672\n" +
            "751267412 803626289 867213460\n" +
            "2181067610 2392812977 70820352\n" +
            "2251887962 2644413065 134698828\n" +
            "3430336271 3994876090 163182805\n" +
            "357109336 395365008 62712446\n" +
            "3646455511 2158365540 128328123\n" +
            "3084834769 2947103817 214933410\n" +
            "1618480872 3954660777 40215313\n" +
            "1673365470 751267412 52358877\n" +
            "2927295460 3797121468 157539309\n" +
            "2386586790 1723776184 434589356\n" +
            "3774783634 2779111893 47450953\n" +
            "4003014323 3162037227 291952973\n" +
            "419821782 458077454 105410758\n" +
            "3593519076 1670839749 52936435\n" +
            "1658696185 4158058895 14669285\n" +
            "2173080221 2826562846 7987389\n" +
            "1829948953 3453990200 343131268\n";
    static String light_to_temperature = "457330729 4090205185 204762111\n" +
            "2982196520 3401667644 30193953\n" +
            "2238727594 3778270640 263367024\n" +
            "2540710222 1921368253 380651678\n" +
            "2224576409 4041637664 14151185\n" +
            "1803946096 1170025919 125923944\n" +
            "947791690 3069412788 65888847\n" +
            "3354708582 3597834895 180435745\n" +
            "1173448701 516297801 630497395\n" +
            "4079424710 2899828022 88028778\n" +
            "1929870040 1295949863 294706369\n" +
            "928458849 495946333 19332841\n" +
            "3145865299 515279174 1018627\n" +
            "3071616223 2825578946 74249076\n" +
            "3012390473 3431861597 52676537\n" +
            "0 156654134 174053721\n" +
            "1013680537 1590656232 159768164\n" +
            "2502094618 457330729 38615604\n" +
            "4167453488 3484538134 113296761\n" +
            "4058703342 3048691420 20721368\n" +
            "3146883926 1750424396 164394644\n" +
            "662092840 3135301635 266366009\n" +
            "174053721 0 156654134\n" +
            "4280750249 4055788849 14217047\n" +
            "3311278570 1146795196 23230723\n" +
            "3334509293 4070005896 20199289\n" +
            "3535144327 2302019931 523559015\n" +
            "3065067010 1914819040 6549213\n" +
            "2921361900 2987856800 60834620\n";
    static String temperature_to_humidity = "19014508 1616728169 261978440\n" +
            "479364011 879054632 183139707\n" +
            "3422279791 4197415651 97551645\n" +
            "2947838505 2859883311 474441286\n" +
            "3922771609 3441941550 130194267\n" +
            "1538347549 1285663854 77335299\n" +
            "4074125861 3334324597 17231539\n" +
            "2692139672 3923798143 165313419\n" +
            "3867887507 3572135817 45827004\n" +
            "4091357400 2695950683 148956394\n" +
            "280992948 874337342 4717290\n" +
            "3585981058 4137845928 59569723\n" +
            "1194193608 267159640 344153941\n" +
            "3645550781 2226309992 39998882\n" +
            "2606341883 3617962821 85797789\n" +
            "2452453972 3769910232 153887911\n" +
            "4279991062 2844907077 14976234\n" +
            "4240313794 4089111562 39677268\n" +
            "285710238 0 193653773\n" +
            "662503718 1585706204 31021965\n" +
            "4052965876 2266308874 21159985\n" +
            "2226309992 2287468859 226143980\n" +
            "0 248145132 19014508\n" +
            "3685549663 2513612839 182337844\n" +
            "2857453091 3351556136 90385414\n" +
            "1139702249 193653773 54491359\n" +
            "3913714511 4128788830 9057098\n" +
            "916232734 1062194339 223469515\n" +
            "1615682848 611313581 263023761\n" +
            "693525683 1362999153 222707051\n" +
            "3519831436 3703760610 66149622\n";
    static String humidity_to_location = "3722067319 3568864729 46052123\n" +
            "761939125 1263883488 182519766\n" +
            "3952597071 3400791743 168072986\n" +
            "1928058 204065059 218803536\n" +
            "1797120632 863951513 248903371\n" +
            "3409129274 3614916852 109595510\n" +
            "0 1261955430 1928058\n" +
            "3854871689 2940386871 97725382\n" +
            "3518724784 3898809601 159455982\n" +
            "220731594 1446403254 100124613\n" +
            "944458891 1813379640 207908225\n" +
            "3194065032 4058265583 117770911\n" +
            "3059317673 3222157831 134747359\n" +
            "3678180766 3356905190 43886553\n" +
            "3375153977 3124864500 33975297\n" +
            "2940386871 4176036494 118930802\n" +
            "1152367116 2021287865 24736138\n" +
            "3311835943 3158839797 63318034\n" +
            "320856207 422868595 441082918\n" +
            "1593055573 0 204065059\n" +
            "4120670057 3724512362 174297239\n" +
            "1177103254 1112854884 149100546\n" +
            "1326203800 1546527867 266851773\n" +
            "3768119442 3038112253 86752247";

    public static void main(String[] args) {
        int i = 1111111111;
        int y = 2147483647;
        String[] seed_to_soils = seed_to_soil.split("\n");
        long rs = Long.MAX_VALUE;
        for (String s : inputSeed) {
            long val = locationBySeed(Long.parseLong(s));
            if (rs > val) {
                rs = val;
            }
        }
        System.out.println(rs);
    }

    public static long locationBySeed(long seed) {
        long soil = findValueCorrespond(seed, seed_to_soil);
        long fertilizer = findValueCorrespond(soil, soil_to_fertilizer);
        long water = findValueCorrespond(fertilizer, fertilizer_to_water);
        long light = findValueCorrespond(water, water_to_light);
        long temperature = findValueCorrespond(light, light_to_temperature);
        long humidity = findValueCorrespond(temperature, temperature_to_humidity);
        return findValueCorrespond(humidity, humidity_to_location);
    }

    public static long findValueCorrespond(long num, String map) {
        String[] rows = map.split("\n");
        long rs = num;
        for (String row : rows) {
            String[] val = row.split(" ");
            long val1 = Long.parseLong(val[0]);
            long val2 = Long.parseLong(val[1]);
            long val3 = Long.parseLong(val[2]);
            if (num > val2 && num < val2 + val3) {
                rs = val1 + num - val2;
            }
        }
        return rs;
    }
}
